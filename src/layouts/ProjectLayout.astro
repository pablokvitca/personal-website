---
import BaseLayout from './BaseLayout.astro';
import ToolingBadges from '@/components/projects/ToolingBadges.astro';
import Prose from '@/components/ui/starwind/prose';

interface Props {
  title: string;
  description: string;
  tags: string[];
  status: 'active' | 'completed' | 'archived';
  startDate?: Date;
  endDate?: Date;
  links?: {
    github?: string;
    demo?: string;
    docs?: string;
  };
}

const { title, description, tags, status, startDate: _startDate, endDate: _endDate, links } =
  Astro.props;

// Dates available for future use
void _startDate;
void _endDate;

const statusLabels = {
  active: 'Active',
  completed: 'Completed',
  archived: 'Archived',
};
---

<BaseLayout title={`${title} - Projects - Pablo Kvitca`} description={description}>
  <article class="max-w-3xl mx-auto">
    <header class="mb-8">
      <div class="flex items-start justify-between mb-4">
        <h1 class="text-4xl font-bold">{title}</h1>
        <span
          class:list={[
            'text-sm px-3 py-1 rounded-full',
            status === 'active' && 'bg-green-100 text-green-800',
            status === 'completed' && 'bg-blue-100 text-blue-800',
            status === 'archived' && 'bg-gray-100 text-gray-800',
          ]}
        >
          {statusLabels[status]}
        </span>
      </div>
      <p class="text-xl text-muted-foreground mb-4">{description}</p>
      <ToolingBadges tags={tags} />

      {
        links && (
          <div class="flex gap-4 mt-4">
            {links.github && (
              <a
                href={links.github}
                target="_blank"
                rel="noopener noreferrer"
                class="text-sm text-primary hover:underline"
              >
                GitHub
              </a>
            )}
            {links.demo && (
              <a
                href={links.demo}
                target="_blank"
                rel="noopener noreferrer"
                class="text-sm text-primary hover:underline"
              >
                Live Demo
              </a>
            )}
            {links.docs && (
              <a
                href={links.docs}
                target="_blank"
                rel="noopener noreferrer"
                class="text-sm text-primary hover:underline"
              >
                Documentation
              </a>
            )}
          </div>
        )
      }
    </header>
    <Prose class="max-w-none">
      <slot />
    </Prose>
  </article>
</BaseLayout>
